archive:
    some_archive_rule_name:
        rootdir: /data/roms/*/* # <--- directory glob matching pattern
        destination: /archive # destination root directory to archive
        root_depth: 2 # preserve directory tree after root_depth level. Default 0 which will not preserve tree structure
        older_then: 60d
        date_strptime: %Y%m%d
        time_strptime: %Hz
        recursive: True
        max_depth: 2
        patterns: # <- RE filters to include
            - .+\.txt # same as *.txt in shell

clean:
    some_rule_name:
        rootdir: /data # <--- directory glob matching pattern
        older_then: 60d
        delete_empty: true # Delete empty folders
        date_strptime: %Y%m%d
        time_strptime: %Hz
        recursive: True
        max_depth: 2
        patterns: # <- RE filters to include
            - .+\.txt

    some_other_rule:
        rootdir: '/data/roms/*'
        recursive: True
        max_depth: 4
        patterns:
            - '\.nc$'

scrub:
    images:  
        ignore: # Accept list of image names or matching RE
            - !!python/object/apply:scheduler.core.get_active_images [] # A function that generates a list of image names
            - user/.+  # All images from user
            - metocean/some_image:1.1.1
        force: True # False (default) will only remove images with no container associated with
        filters: # filters for https://docker-py.readthedocs.io/en/stable/images.html#docker.models.images.ImageCollection.list
            - name: 'user/repo:tag' # filter all tags for this related repository name or specify tag
              dangling: true # This will only clean dangling images 
    containers:
        ignore: # sames images:ignore but containers names instead
            - conteiner1
        force: True # SIGKILL for running containers
        filters: # https://docker-py.readthedocs.io/en/stable/containers.html#docker.models.containers.ContainerCollection.list
            - name: dedicated
              status: exited
              older_then: 2m # created more then 2 months ago

            -  name: container_b